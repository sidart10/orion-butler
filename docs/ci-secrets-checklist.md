# CI Secrets Checklist

**Generated:** 2026-01-24
**Platform:** GitHub Actions

---

## Required Secrets

Currently the Orion Butler CI pipeline does not require any secrets.

All tests run against local builds with no external service dependencies.

---

## Optional Secrets

These secrets enhance CI capabilities but are not required:

### Slack Notifications

**Secret Name:** `SLACK_WEBHOOK`
**Purpose:** Send failure notifications to Slack
**Setup:**
1. Create Slack app at https://api.slack.com/apps
2. Enable Incoming Webhooks
3. Add webhook to channel
4. Copy webhook URL
5. Add to GitHub: Settings → Secrets → Actions → New secret

**Usage in workflow:**
```yaml
- name: Notify on failure
  if: failure()
  uses: 8398a7/action-slack@v3
  with:
    status: ${{ job.status }}
    webhook_url: ${{ secrets.SLACK_WEBHOOK }}
```

### Coverage Reporting (Codecov)

**Secret Name:** `CODECOV_TOKEN`
**Purpose:** Upload coverage to Codecov dashboard
**Setup:**
1. Sign up at https://codecov.io
2. Add repository
3. Copy repository token
4. Add to GitHub: Settings → Secrets → Actions → New secret

**Usage in workflow:**
```yaml
- name: Upload coverage
  uses: codecov/codecov-action@v4
  with:
    token: ${{ secrets.CODECOV_TOKEN }}
    files: ./coverage/lcov.info
```

### Anthropic API (Future)

**Secret Name:** `ANTHROPIC_API_KEY`
**Purpose:** Integration tests with Claude API
**When Needed:** Epic 1 Story 1.2 (SDK integration)
**Setup:**
1. Get API key from https://console.anthropic.com
2. Add to GitHub: Settings → Secrets → Actions → New secret

**Security Notes:**
- Never commit API keys to code
- Use GitHub Actions secrets only
- Rotate keys periodically

---

## How to Add Secrets

### GitHub Actions

1. Go to repository on GitHub
2. Click **Settings** tab
3. Click **Secrets and variables** → **Actions**
4. Click **New repository secret**
5. Enter secret name and value
6. Click **Add secret**

### Local Development

For local testing with secrets:

```bash
# Create .env.local (gitignored)
cp .env.example .env.local

# Add secrets
echo "ANTHROPIC_API_KEY=sk-..." >> .env.local
```

---

## Security Best Practices

1. **Never commit secrets** - Use `.env.local` and gitignore
2. **Minimal scopes** - Only grant necessary permissions
3. **Rotate regularly** - Update keys every 90 days
4. **Audit access** - Review who has access to secrets
5. **Use environments** - Separate staging/production secrets

---

## Checklist

- [ ] No secrets required for basic CI (current state)
- [ ] `SLACK_WEBHOOK` configured (optional)
- [ ] `CODECOV_TOKEN` configured (optional)
- [ ] `ANTHROPIC_API_KEY` configured (when needed)
- [ ] All secrets use GitHub Actions secret storage
- [ ] No secrets committed to repository
- [ ] `.env.example` documents required variables

---

*Generated by TEA (Test Architect) CI workflow*
